<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Eatico</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&subset=latin,latin-ext' rel='stylesheet' type='text/css' />
  <script type="text/javascript">
    function addScripts(scripts) {
      scripts.map((function(script, i) {
        var i = document.createElement( 'script' );
        i.setAttribute( 'src', script );
        document.body.appendChild( i );
      }));
    }

    function addStyles(styles) {
      styles.map((function(css, i) {
          var head  = document.getElementsByTagName('head')[0];
          var link  = document.createElement('link');
          link.id   = i;
          link.rel  = 'stylesheet';
          link.type = 'text/css';
          link.href = css;
          link.media = 'all';
          head.appendChild(link);
      }));
    }

    var getJSON = function(url) {
      return new Promise(function(resolve, reject) {
        var xhr = new XMLHttpRequest();
        xhr.open('get', url, true);
        xhr.responseType = 'json';
        xhr.onload = function() {
          var status = xhr.status;
          if (status == 200) {
            resolve(xhr.response);
          } else {
            reject(status);
          }
        };
        xhr.send();
      });
    };

    getJSON('webpack-stats.json').then(function(data) {
      addStyles(data.css);
      addScripts(data.script);
    });
  </script>
</head>
<body>
<div id="App"></div>

</body>
</html>
